#[cfg(test)]
mod tests {
    use cosmwasm_std::testing::{mock_dependencies, mock_env, mock_info};
    use cosmwasm_std::{coins};
    
    use crate::contract::{instantiate, execute, query};
    use crate::msg::{InstantiateMsg, ExecuteMsg, QueryMsg};

    #[test]
    fn test_instantiate() {
        // ... test code ...
    }

    #[test]
    fn test_place_bid() {
        // ... test code ...
    }

    #[test]
    fn test_close_auction() {
        // ... test code ...
    }

    #[test]
    fn test_claim_winnings() {
        // ... test code ...
    }

    #[test]
    fn test_query_auction() {
        // ... test code ...
    }

    #[test]
    fn test_query_high_bid() {
        // ... test code ...
    }

    #[test]
    fn test_end_to_end_auction_flow() {
        let mut deps = mock_dependencies();
        let env = mock_env();
        
        // Step 1: Instantiate contract
        let admin = mock_info("admin", &coins(1000, "utestcore"));
        let instantiate_msg = InstantiateMsg {
            admin: "admin".to_string(),
            insurance_pool: "pool".to_string(),
            token_denom: "utestcore".to_string(),
        };
        let res = instantiate(deps.as_mut(), env.clone(), admin, instantiate_msg);
        assert!(res.is_ok());
        println!("âœ… Step 1: Contract instantiated");
        
        // Step 2: Create auction
        let seller = mock_info("seller", &coins(500, "utestcore"));
        let create_msg = ExecuteMsg::CreateAuction {
            starting_bid: Uint128::from(100u128),
            duration: 86400,
            description: "1oz Gold Eagle".to_string(),
        };
        let res = execute(deps.as_mut(), env.clone(), seller, create_msg);
        assert!(res.is_ok());
        println!("âœ… Step 2: Auction created");
        
        // Step 3: Place first bid
        let bidder1 = mock_info("alice", &coins(150, "utestcore"));
        let bid_msg = ExecuteMsg::PlaceBid {
            auction_id: 1,
            amount: "150".to_string(),
        };
        let res = execute(deps.as_mut(), env.clone(), bidder1, bid_msg);
        assert!(res.is_ok());
        println!("âœ… Step 3: First bid placed (150)");
        
        // Step 4: Place higher bid
        let bidder2 = mock_info("bob", &coins(200, "utestcore"));
        let bid_msg = ExecuteMsg::PlaceBid {
            auction_id: 1,
            amount: "200".to_string(),
        };
        let res = execute(deps.as_mut(), env.clone(), bidder2, bid_msg);
        assert!(res.is_ok());
        println!("âœ… Step 4: Higher bid placed (200)");
        
        // Step 5: Close auction
        let closer = mock_info("admin", &[]);
        let close_msg = ExecuteMsg::CloseAuction { auction_id: 1 };
        let res = execute(deps.as_mut(), env.clone(), closer, close_msg);
        assert!(res.is_ok());
        println!("âœ… Step 5: Auction closed");
        
        // Step 6: Claim winnings
        let winner = mock_info("bob", &[]);
        let claim_msg = ExecuteMsg::ClaimWinnings { auction_id: 1 };
        let res = execute(deps.as_mut(), env, winner, claim_msg);
        assert!(res.is_ok());
        println!("âœ… Step 6: Winner claimed funds");
        
        println!("ðŸŽ‰ END-TO-END AUCTION FLOW COMPLETE!");
    }
}